{"ast":null,"code":"class Api {\n  constructor(config) {\n    this._config = config;\n    this._url = this._config.url;\n    this._headers = this._config.headers;\n  }\n\n  _handleResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка! ${res.status}`);\n  }\n\n  getAllData() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  } // получить список всех карточек в виде массива (GET)\n\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(res => {\n      _handleResponse(res);\n    }); //.catch(err => this._errorRequestResult(err))\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(res => {\n      _handleResponse(res);\n    });\n  }\n\n  editUserInfo(name, about) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    }).then(res => {\n      _handleResponse(res);\n    });\n  }\n\n  editUserAvatar(url) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: url\n      })\n    }).then(res => {\n      _handleResponse(res);\n    });\n  }\n\n  addCard(name, link) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(res => {\n      _handleResponse(res);\n    });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      _handleResponse(res);\n    });\n  }\n\n  likeCard(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(res => {\n      _handleResponse(res);\n    });\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      _handleResponse(res);\n    });\n  }\n\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  headers: {\n    authorization: 'eee6724a-7558-44e3-b80b-1f5173ed3e41',\n    'content-type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"sources":["C:/Users/Alexander/dev/mesto-react/src/utils/Api.js"],"names":["Api","constructor","config","_config","_url","url","_headers","headers","_handleResponse","res","ok","json","Promise","reject","status","getAllData","all","getUserInfo","getInitialCards","fetch","method","then","editUserInfo","name","about","body","JSON","stringify","editUserAvatar","avatar","addCard","link","deleteCard","id","likeCard","deleteLike","api","authorization"],"mappings":"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","sourcesContent":["class Api {\r\n  constructor(config) {\r\n    this._config = config;\r\n    this._url = this._config.url;\r\n    this._headers = this._config.headers;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка! ${res.status}`);\r\n  }\r\n\r\n  getAllData() {\r\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\r\n  }\r\n\r\n  // получить список всех карточек в виде массива (GET)\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      _handleResponse(res);\r\n    });\r\n    //.catch(err => this._errorRequestResult(err))\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      _handleResponse(res);\r\n    });\r\n  }\r\n\r\n  editUserInfo(name, about) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then((res) => {\r\n      _handleResponse(res);\r\n    });\r\n  }\r\n\r\n  editUserAvatar(url) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: url,\r\n      }),\r\n    }).then((res) => {\r\n      _handleResponse(res);\r\n    });\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then((res) => {\r\n      _handleResponse(res);\r\n    });\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      _handleResponse(res);\r\n    });\r\n  }\r\n\r\n  likeCard(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      _handleResponse(res);\r\n    });\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      _handleResponse(res);\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n  headers: {\r\n    authorization: 'eee6724a-7558-44e3-b80b-1f5173ed3e41',\r\n    'content-type': 'application/json',\r\n  },\r\n});\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}